<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" xmlns:jsf="http://xmlns.jcp.org/jsf">

    <h:head>
        <title>Bienvenido</title>
        <h:outputStylesheet library="css" name="styles.css"/>      
    </h:head>

    <h:body>
        <input type="checkbox" id="check" style="background-color: #01d14e"/>
        <label for="check" style="position: absolute">
            <i class="fa fa-bars" id="btns"></i>
            <i class="fa fa-times" id="cancela"></i>
        </label>
        <div class="sidebar" id="sidebar">
            <header><i class="fa fa-heartbeat"/> Menú </header>
            <h:form rendered="#{contentController.isPreoupationalReady}">
                <ul >
                    <li>
                    <p:commandButton icon="fa fa-address-card" class="btn-sidebar" action="#{contentController.changeActivePage(1)}" update="tablero" value="Mi Perfil"/>
                    </li>
                    <li>
                    <p:commandButton icon="fa fa-calendar-check-o" action="#{contentController.changeActivePage(2)}" value="Registro Diario" class="btn-sidebar" update="tablero"/>
                    </li>
                    <li>
                    <p:commandButton icon="fa fa-home" action="#{contentController.changeActivePage(3)}" value="Cont. Internos" class="btn-sidebar" update="tablero"/>
                    </li>
                    <li>
                    <p:commandButton icon="fa fa-bus" action="#{contentController.changeActivePage(4)}" value="Cont. Externos" class="btn-sidebar" update="tablero"/>
                    </li>
                    <li>
                    <p:commandButton icon="fa fa-user-plus" action="#{contentController.changeActivePage(5) }" value="Crear Usuarios" class="btn-sidebar" update="tablero" rendered="#{UserBean.currentUser.rol_id.rol_id == 1}"/>
                    </li>
                    <li>
                    <p:commandButton icon="fa fa-bar-chart" action="#{contentController.changeActivePage(6)}" value="Reportes" class="btn-sidebar" update="tablero" rendered="#{UserBean.currentUser.rol_id.rol_id == 1}"/>
                    </li>
                    <li>
                    <p:commandButton icon="fa fa-arrow-left" action="#{UserBean.logout()}" value="Salir" class="btn-sidebar" ajax="true"/>
                    </li>
                </ul>
            </h:form>
        </div>
        <div id="tablero" jsf:id="tablero">
            <div id="content">

                <ui:include src="/templates/preocupacionalTemplate.xhtml"/>

                <ui:include src="/templates/miPerfilTemplate.xhtml"/>

                <ui:include src="/templates/registroDiarioTemplate.xhtml"/>               

                <ui:include src="/templates/contactoInternoTemplate.xhtml"/>               

                <ui:include src="/templates/contactoExternoTemplate.xhtml"/>               

                <ui:include src="/templates/usuariosTemplate.xhtml"/>               

                <ui:include src="/templates/reportesTemplate.xhtml"/>   

                <p:panel header="Contacto Externo" 
                         rendered="#{contentController.activePage == 4}" 
                         style="padding-bottom: 200px">
                    <h:form id = "ContExterno" >

                        <b>Objetivo:</b> Registrar  las personas con las que tiene contacto durante la cuarentena para establecer el nexo epidemiológico en caso de enfermedad por el COVID 19
                        <br/>
                        <div style="padding-top: 30px">
                            <p:panelGrid>
                                <b><p:outputLabel value="Definiciones"/></b>
                                <br/>
                                <b>Contacto:</b> Es la interaccion  entre personas en un espacio de 2 metros o menos de distancia, durante un tiempo mayor a 15 minutos, o contacto directo con secreciones de un caso probable o confirmado  de enfermedad por COVID 19.
                                <br/>
                                <b>Medidas de Bioseguridad:</b> Son las acciones de protección que debemos practicar para prevenir el contagio tales como: lavado de manos, uso de tapabocas, limpieza y desinfección de artículos y superficies, lavado de ropa de calle, desinfección de calzado etc. 
                                <br/>

                                <b>Contacto externo:</b> Se refiere a las personas  con las que ha tenido interaccion fuera de casa
                                (incluye a domiciliarios, conserjes o guardas de seguridad de su vivienda o fuera de 
                                ella y personal  de bancos almacenes y compañeros de oficina )

                                <br/>

                            </p:panelGrid>
                        </div>

                        <p:growl id="growl2" showDetail="true" sticky="true" />  

                        Externo se refiere a las personas  con las que ha tenido interaccion fuera de casa
                        (incluye a domiciliarios, conserjes o guardas de seguridad de su vivienda o fuera de 
                        ella y personal  de bancos almacenes y compañeros de oficina )

                        Marque las prácticas de bio seguridad que usted siguió durante el contacto y /o después del contacto 
                        <p:dataTable id="tbExt" value="#{UserBean.currentUser.externalContacts}" style="padding-top: 30px" var="externalContatc" editable="true">
                            <p:ajax event="rowEdit" update="ContExterno:growl2 tbExt" listener="#{ExtrenalContactBean.saveUpdate(externalContatc)}" />
                            <p:ajax event="rowEditCancel" update="ContInterno" />
                            <f:facet name="header">
                                <div align="right"> <p:outputLabel value=" Marque las prácticas de bio seguridad que usted siguió durante el contacto y /o después del contacto"/>  </div>
                            </f:facet>

                            <p:column headerText="Fecha">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:outputLabel value="#{externalContatc.external_contact_date}" /></f:facet>
                                    <f:facet name="input"> 
                                        <p:calendar pattern="yyyy-MM-dd HH:mm" 
                                                    mask="true" 
                                                    value="#{externalContatc.external_contact_date}"
                                                    />
                                    </f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Lugar">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:outputLabel value="#{externalContatc.external_contact_site}" /></f:facet>
                                    <f:facet name="input"> <p:inputText value="#{externalContatc.external_contact_site}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Nombre de la persona y/ o rol con quien tuvo contacto">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:outputLabel value="#{externalContatc.external_contact_name}" /></f:facet>
                                    <f:facet name="input"> <p:inputText value="#{externalContatc.external_contact_name}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Lavado Manos">

                                <p:cellEditor>
                                    <f:facet name="output"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_lavado_manos}" disabled="true"/></f:facet>
                                    <f:facet name="input"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_lavado_manos}"/></f:facet>
                                </p:cellEditor> 


                            </p:column>
                            <p:column headerText="Uso tapabocas">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_tapabocas}" disabled="true"/></f:facet>
                                    <f:facet name="input"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_tapabocas}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Limpiea y desinfección">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_limpieza_superficies}" disabled="true"/></f:facet>
                                    <f:facet name="input"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_limpieza_superficies}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Lavado de ropa de calle">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_lavado_ropa}" disabled="true"/></f:facet>
                                    <f:facet name="input"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_lavado_ropa}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Desinfección de zapatos">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_desinfeccion_zapatos}" disabled="true"/></f:facet>
                                    <f:facet name="input"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_desinfeccion_zapatos}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Ducha">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_ducha}" disabled="true"/></f:facet>
                                    <f:facet name="input"> <p:selectBooleanCheckbox value="#{externalContatc.external_contact_ducha}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column headerText="Otros">
                                <p:cellEditor>
                                    <f:facet name="output"> <p:outputLabel value="#{externalContatc.external_contact_others}" /></f:facet>
                                    <f:facet name="input"> <p:inputText value="#{externalContatc.external_contact_others}"/></f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column style="width:35px">
                                <p:rowEditor />
                            </p:column>
                        </p:dataTable>
                        <p:commandButton value="Agregar Registro" action="#{ExtrenalContactBean.addNewExternalContact(UserBean.currentUser)}" update="tbExt"/>
                    </h:form>
                </p:panel>               
            </div>
        </div>
    </h:body>
</html>

